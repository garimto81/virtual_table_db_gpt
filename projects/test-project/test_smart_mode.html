<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Mode Test</title>
    <style>
        body {
            background: #1a1a2e;
            color: #eee;
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            background: #16213e;
            border-radius: 10px;
        }
        .success { color: #2ecc71; }
        .error { color: #e74c3c; }
        .warning { color: #f39c12; }
    </style>
</head>
<body>
    <h1>Smart Mode ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸</h1>
    
    <div class="test-section">
        <h2>í…ŒìŠ¤íŠ¸ ê²°ê³¼</h2>
        <div id="testResults"></div>
    </div>

    <script>
        function runTests() {
            const results = [];
            
            // Test 1: ìŠ¤ë§ˆíŠ¸ ëª¨ë“œ ê¸°ë³¸ ì„¤ì • í™•ì¸
            try {
                let analysisMode = 'smart';
                results.push(`âœ… ê¸°ë³¸ ë¶„ì„ ëª¨ë“œ: ${analysisMode}`);
            } catch (e) {
                results.push(`âŒ ê¸°ë³¸ ë¶„ì„ ëª¨ë“œ ì„¤ì • ì‹¤íŒ¨: ${e.message}`);
            }
            
            // Test 2: SmartUIDetector í´ë˜ìŠ¤ ì •ì˜ í™•ì¸
            try {
                class SmartUIDetector {
                    constructor(video, canvas) {
                        this.video = video;
                        this.canvas = canvas;
                        this.isDetecting = false;
                    }
                    
                    startDetection() {
                        this.isDetecting = true;
                        return "ê°ì§€ ì‹œì‘ë¨";
                    }
                    
                    stopDetection() {
                        this.isDetecting = false;
                        return "ê°ì§€ ì¤‘ì§€ë¨";
                    }
                }
                
                // í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
                const testVideo = document.createElement('video');
                const testCanvas = document.createElement('canvas');
                const detector = new SmartUIDetector(testVideo, testCanvas);
                
                results.push(`âœ… SmartUIDetector í´ë˜ìŠ¤ ì •ìƒ ì‘ë™`);
                results.push(`âœ… ê°ì§€ ì‹œì‘: ${detector.startDetection()}`);
                results.push(`âœ… ê°ì§€ ì¤‘ì§€: ${detector.stopDetection()}`);
                
            } catch (e) {
                results.push(`âŒ SmartUIDetector í´ë˜ìŠ¤ ì˜¤ë¥˜: ${e.message}`);
            }
            
            // Test 3: ëª¨ë“œ ì „í™˜ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸
            try {
                function setMode(mode) {
                    let analysisMode = mode;
                    if (mode === 'smart') {
                        return 'ìŠ¤ë§ˆíŠ¸ ëª¨ë“œ: UI ì‹œì‘/ì¢…ë£Œë§Œ ì•Œë ¤ì£¼ë©´ ì‹œìŠ¤í…œì´ í™”ë©´ ìœ„ì¹˜ë¥¼ ìë™ ê°ì§€í•©ë‹ˆë‹¤';
                    } else {
                        return 'ìë™ ëª¨ë“œ: ì‹œìŠ¤í…œì´ íœ´ë¦¬ìŠ¤í‹±ìœ¼ë¡œ í•¸ë“œë¥¼ ìë™ ê°ì§€í•©ë‹ˆë‹¤';
                    }
                }
                
                const smartModeDesc = setMode('smart');
                results.push(`âœ… ìŠ¤ë§ˆíŠ¸ ëª¨ë“œ ì„¤ëª…: ${smartModeDesc}`);
                
            } catch (e) {
                results.push(`âŒ ëª¨ë“œ ì „í™˜ í•¨ìˆ˜ ì˜¤ë¥˜: ${e.message}`);
            }
            
            // Test 4: UI ì¸í„°í˜ì´ìŠ¤ ìƒì„± í…ŒìŠ¤íŠ¸
            try {
                const testContainer = document.createElement('div');
                testContainer.innerHTML = `
                    <h3>ğŸ§  ìŠ¤ë§ˆíŠ¸ UI ê°ì§€ ëª¨ë“œ</h3>
                    <button id="smartDetectBtn" onclick="alert('ìŠ¤ë§ˆíŠ¸ ê°ì§€ ë²„íŠ¼ í´ë¦­ë¨')">
                        ğŸ” UI ê°ì§€ ì‹œì‘
                    </button>
                `;
                
                if (testContainer.querySelector('#smartDetectBtn')) {
                    results.push(`âœ… ìŠ¤ë§ˆíŠ¸ UI ì¸í„°í˜ì´ìŠ¤ ìƒì„± ì„±ê³µ`);
                } else {
                    results.push(`âŒ ìŠ¤ë§ˆíŠ¸ UI ì¸í„°í˜ì´ìŠ¤ ìƒì„± ì‹¤íŒ¨`);
                }
                
            } catch (e) {
                results.push(`âŒ UI ì¸í„°í˜ì´ìŠ¤ ìƒì„± ì˜¤ë¥˜: ${e.message}`);
            }
            
            // ê²°ê³¼ í‘œì‹œ
            const resultsDiv = document.getElementById('testResults');
            resultsDiv.innerHTML = results.map(result => `<p>${result}</p>`).join('');
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
        window.addEventListener('load', runTests);
    </script>
</body>
</html>